<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link href='https://fonts.googleapis.com/css?family=Architects+Daughter' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print">

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <title>Heterogeneous Elastic Webserver on AWS by Rajul Bhatnagar</title>
  </head>

  <body>
    <header>
      <div class="inner">
        <h1>Heterogeneous Elastic Webserver on AWS</h1>
        <h2>15618 Final Project</h2>
        <a href="https://github.com/rajulbhatnagar/15618project" class="button"><small>View project on</small> GitHub</a>
		
      </div>
    </header>

    <div id="content-wrapper">
      <div class="inner clearfix">
        <section id="main-content">
		<ul class="menu">
		  <li><a href="#">Final Report</a></li>
		  <li><a href="proposal.html">Project Proposal</a></li>
		  <li><a href="checkpoint.html">Project Checkpint</a></li>
		</ul>
		
		
          <h3>
<a id="summary" class="anchor" href="#summary" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Summary</h3>

<p>I have implemented an Elastic Web Server on Amazon AWS which supports a heterogeneous server configuration and also allows heterogeneous scaling of differant server
groups independently depending on the type of load. I then evaluated this against baseline round robin work distribution on four differant traces having differant combinations
of Compute and I/O characteristics and was able to demonstrate the reduced response latency of using this approach on a heterogeneous workload which is the characteristic of 
most real world web workloads.</p>

<h3>
<a id="background" class="anchor" href="#background" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Background</h3>

<p>Amazon offers an existing solution to create an Elastic Webserver on AWS using the Elastic Load Balancer and Auto Scale Group combination which fulfill some of the requirements of an Elastic Webserver like Availability and Elasticity however this approach has several limitations for real workloads which I look to address with my solution. 
I primarily addressed two limitations in ELB + ASG combination:-</p>

<ul>
<li>The ELB uses a naive Round Robin Load Balancing approach to balance incoming requests among various servers however this approach is 
inefficient when the workload associated with each request is imbalanced(heterogeneous) which is usually the case for real world loads. My system allows you to plug in 
you custom load balancing scheme depending on your requirements.</li>
<li>Auto Scale Group only allows Homogeneous scaling out of resources. We can achieve better performance for the same cost if we scale out []ly utilizing the knowledge of the type of workload which has 
increased(For e.g. launching a C series compute optimized instance may be more cost effective than launching M series instances).</li>
</ul>
<p>This allowed me to get lower latencies at the same AWS cost/hr of running the server.</p>

<h3>
<a id="the-approach" class="anchor" href="#the-approach" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Approach</h3>

<p>The basic architecture of my elastic webserver consists of a load balancer which runs on a EC2 instance in front of a cluster of differant types of servers.<p>
<p>TODO Architecture Image</p>
<p>You specify your backend instances connected to the load balancer through a json configuration file <a href="images/config.json">Example file till I create images explaining the schema</a></p>
<p>The request arrives at the load balancer and then the server selection policy determines which cluster to use and which server to use in that cluster and sends the request to 
that server and the response back to the client. For the generation of traces I used four types of requests three of them were ported to java from the 15418 assignment 4[] and I created an
additional I/O intensive request.</p>
<h5>Computationally Expensive Requests</h5>
<ul>
<li><b>418wisdom:</b>This request invokes the "418 oracle", a highly sophisticated, but secret, 
algorithm that accepts as input an integer and uses it to generate a response that conveys great wisdom about how to succeed in 418. 
Given the sophistication of this algorithm, it is highly CPU intensive. It requires very little input data as so its footprint and 
bandwidth requirements are negligible. The algorithm does approximately the same amount of work for every invocation, so running times will be argument independent.</li>
<li><b>countprimes:</b>This request accepts an integer argument n and returns the number of prime numbers between 0 and n. 
The task has similar workload characteristics as 418wisdom. It is CPU intensive with little to no bandwidth or memory 
footprint requirements. However unlike 418wisdom, the runtime for countprimes requests is variable depending on the value of n.
Smaller values of n result in cheaper requests.</li>
</ul>
<h5>Latency Critical Requests</h5>
<ul>
<li><b>tellmenow:</b>This request is an automatic "office hours" service for Assignment 4. Students want help, and they want it now, so the 
there is a very strict response latency requirement for tellmenow requests. Tellmenow requests are very cheap, requiring only a few CPU ops to process.</li>
</ul>
<h5>I/O Intensive Requests</h5>
<ul>
<li><b>memorykiller:</b>This request takes a image or video file name as input. If the requested resource is found in the inmemory local memcached[] then it is
loaded from memory otherwise the resource is read from disk.The request is served much faster if we get a cache hit. There is no CPU requirements apart from that
required by memcached service to fetch the resource. This request simulates the real world case of serving static resources.</li>
</ul>

<h3>
<a id="resources" class="anchor" href="#resources" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Results</h3>

<h4>Trace Characteristics</h4>
<p>To evaluate the system I created four differant traces having differant characteristics:-</p>
<ul>
<li>
<b>Trace 1:</b> is a mix of I/O and compute.<br>
<table>
<thead>
<tr><th>Request Type</th><th>Quantity</th></tr>
</thead>
<tbody>
<tr><td>memorykiller</td><td>2600</td></tr>
<tr><td>418wisdom</td><td>1000</td></tr>
<tr><td>computeprimes</td><td>800</td></tr>
</tbody>
</table>
<br>
</li>
<li>
<b>Trace 2:</b> is a mix of I/O and compute along with requests having strict latency requirement.<br>
<table>
<thead>
<tr><th>Request Type</th><th>Quantity</th></tr>
</thead>
<tbody>
<tr><td>memorykiller</td><td>3600</td></tr>
<tr><td>tellmenow</td><td>2000</td></tr>
<tr><td>computeprimes</td><td>1000</td></tr>
</tbody>
</table>
<br>
</li>
<li>
<b>Trace 3:</b> is a mix of compute and I/O.<br>
<table>
<thead>
<tr><th>Request Type</th><th>Quantity</th></tr>
</thead>
<tbody>
<tr><td>tellmenow</td><td>300</td></tr>
<tr><td>418wisdom</td><td>1900</td></tr>
</tbody>
</table>
<br>
</li>
<li>
<b>Trace 4:</b> is a mix of I/O and compute.<br>
<table>
<thead>
<tr><th>Request Type</th><th>Quantity</th></tr>
</thead>
<tbody>
<tr><td>tellmenow</td><td>~1000</td></tr>
<tr><td>418wisdom</td><td>~1000</td></tr>
<tr><td>computeprimes</td><td>~1000</td></tr>
</tbody>
</table>
<br>
</li>
</ul>
<p>TODO:Add more information abt trace characteristics</p>
<h4>Trace 1</h4>
<div>
<img src="images/results/trace1/input1.jpg">
<img src="images/results/trace1/response1.jpg">
<img src="images/results/trace1/response4.jpg">
<img src="images/results/trace1/input2.jpg">
<img src="images/results/trace1/response2.jpg">
<img src="images/results/trace1/response5.jpg">
<img src="images/results/trace1/input3.jpg">
<img src="images/results/trace1/response3.jpg">
<img src="images/results/trace1/response6.jpg">
</div>
<p>Other Traces and Configuration Results and explaination Coming Soon</p>

<h3>
<a id="references" class="anchor" href="#references" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>References</h3>

<p>Coming Soon</p>
        </section>

        <aside id="sidebar">
          <a href="https://github.com/rajulbhatnagar/15618project/zipball/master" class="button">
            <small>Download</small>
            .zip file
          </a>
          <a href="https://github.com/rajulbhatnagar/15618project/tarball/master" class="button">
            <small>Download</small>
            .tar.gz file
          </a>

          <p class="repo-owner"><a href="https://github.com/rajulbhatnagar/15618project"></a> is maintained by <a href="https://github.com/rajulbhatnagar">rajulbhatnagar</a>.</p>

         </aside>
      </div>
    </div>

  
  </body>
</html>
